---
id: partial-derivatives
title: Partial Derivatives
tags: []
published: 11-24-2022
lastEdited: 11-24-2022
---

After we have discussed simple univariate functions of type $f:\R\rightarrow\R$ and its extension to higher dimensional ranges $f:\R\rightarrow\R^n$,
we are going to also expand the dimension of the domain of the function and study function in $m$ variables, which are of the following type:

$$
f:\R^m\rightarrow \R
$$

Together with vector functions, we have arrived at a general theory for any type of function $f:\R^m \rightarrow \R^n$ and how to optimise them. Note,
that for the next couple of weeks we are going to mainly look at functions in two input variables and a single output, so $f:\R^2\rightarrow \R$ as we
can still visualise such functions as surfaces in three-dimensional space (three-dimensional coordinate system), however, the extension to higher
dimension should be trivial. In fact, you are going to study many functions in any input dimension in the Machine Learning course, where we will use
multivariate functions to model relationships between $m$ input features and $n$ target variable(s).

## Multivariate Functions

---

A function $f$ in $m$ input variables $x_1, ...,x_m$ is a mapping that assigns to each ordered pair of $m$ real numbers $(x_1, ...,x_m)$ a unique real
number denoted as $f(x_1,...,x_m)$.

Formally, we denote the signature of such functions as

$$
f:\R^m\rightarrow \R
$$

and we can speak of the domain of the function (the set of all possible inputs) $D_f$ as the set of all ordered tuples of real numbers
$(x_1,...,x_m)\in\R^m$ and the range of the function (the set of all possible outputs) $R_f$ as the set of all real numbers that are outputs of $f$,
so $R_f=\{f(x_1,..., x_m) | (x_1,. ..,x_m)\in D_f\}$.

An example of such a function is for example the sum of two inputs $x_1, x_2$:

$$
f(x_1,x_2)=x_1+x_2
$$

## Visualising Multivariate Functions

---

If we are speaking of functions in two input variables, so $f:\R^2\rightarrow \R$, we can show their graph in a three-dimensional coordinate system as
the set of all points $(x,y,z)$, where $(x,y)\in D_f$ (all pairs in the domain) and $z=f(x,y)$ (and the output of $f$ for each pair in the domain).
This will give a surface that you can for example view on [https://geogebra.org/3d](https://geogebra.org/3d).

However, we can also show a function in two inputs in the classical two-dimensional coordinate system through its **level curves**. Mathematically, a
level curve of a function $f$ of two variables are the curves with equations $f(x,y)=k$, where $k$ is a constant (in the range of $f$ ). Note, that
this is equivalent to cutting through the surface in the three-dimensional coordinate system at height $k$ and draw the depicting curve in a
two-dimensional coordinate system. If we do this for several levels of $k$ (getting a collection of level curves), then we get a **contour map**. This
concept you are quite familiar with, since it is how we depict height/ ascend in topographic maps of mountain regions as well. Note, that for contour
maps be easy to interpret, it is useful to compute the level curves in equally spaced intervals, since we can then read off if the ascend is constant
or not.

---

## Differentiation

---

Now, that we have established what functions in any number of inputs are and how we can visualise functions in two dimensions, we would like to know
how to differentiate such functions in order to be able to optimise such functions.

> Remember, that the derivative of a function $f'=\frac{\delta f}{\delta x}$ is nothing more than describing the instantaneous rate-of-change of $f$
> at each point $x$. Thus, answering the question at what rate the function $f$ is increasing or decreasing at point $x$.

Now, we would like to do something similar for higher dimension functions, but in these cases the output of the function depends on multiple inputs.
Thus, if we want to answer the question of at what rate the function is increasing or decreasing at some point $(x_1,..., x_m)$, then we have to speak
at what rate the function is increasing or decreasing along each dimension. This idea is captured in the theory of **partial derivatives**, which
describe the instantaneous rate-of-change of the function $f$ (more specifically its output) with respect to a single input dimension. If we for
example consider some function $f:\R^2\rightarrow \R$, which maps pairs of points to a single output, then we can speak about its rate-of-change
alongside the two input dimensions. Mathematically, we can describe these as the partial derivatives with respect to $x_1$ and $x_2$, which we find by
differentiating $f$ first with treating $x_2$ as a constant and $x_1$ as a variable to find $f'_{x_1}$ and then with treating $x_1$ as a constant and
$x_2$ as a variable to find $f'_{x_2}$. To summarise in general, we can say that for a function in $m$ inputs $x_1, ..., x_m$, we can find $m$ partial
derivatives and the $i$-th partial derivatives is found as

> To find $f'_{x_1}(x_1,...,x_m)$ differentiate w.r.t $x_i$ and treat all other variables as constants

Note, that there are many ways to denote partial derivatives, of which I list the one I think you should know below.

$$
f_x(x,y)=\frac{\delta f}{\delta x}=\frac{\delta}{\delta x}f(x,y)
$$

Then, we can collect the $m$ partial derivatives in a gradient vector $\nabla f$, which describes the instantaneous rate-of-change along all input
dimensions.

$$
\nabla f=\begin{bmatrix}f'_{x_1}\\\vdots \\ f'_{x_m}\end{bmatrix}=\begin{bmatrix}\frac{\delta f}{\delta x_1}\\\vdots \\ \frac{\delta f}{\delta x_m}\end{bmatrix}
$$

If we want to find higher-order derivatives for multivariate functions, then the same concepts apply as in the univariate case. A partial derivative
can again be differentiated with respect to each input dimension, so in the case of a function in two inputs $f(x,y)$, there are four possible
second-order derivatives, since each of the two first-order derivatives can again be differentiated with respect to both input dimensions. Thus

$$
f_{xx}(x,y)=(f_x)_x=\frac{\delta}{\delta x}\frac{\delta f}{\delta x}=\frac{\delta^2 f}{\delta x^2}
$$

$$
f_{xy}(x,y)=(f_x)_y=\frac{\delta}{\delta y}\frac{\delta f}{\delta x}=\frac{\delta^2 f}{\delta y\delta x}
$$

$$
f_{yx}(x,y)=(f_y)_x=\frac{\delta}{\delta x}\frac{\delta f}{\delta y}=\frac{\delta^2 f}{\delta x\delta y}
$$

$$
f_{yy}(x,y)=(f_y)_y=\frac{\delta}{\delta y}\frac{\delta f}{\delta y}=\frac{\delta^2 f}{\delta y^2}
$$

Luckily, **Clairaut’s Theorem** tells us that the cross partial derivatives are equivalent, that is $f_{yx}=f_{xy}$, which often can be used to
simplify computation.

## Tangent Planes

---

Just like we can talk about tangent lines at a point $x$ for a univariate function $f:\R\rightarrow\R$, we can find equations for the tangent plane
for a function $f:\R^2\rightarrow \R$. A tangent plane is generally defined as $T(x,y)=ax+by+c$. For such a plane to be tangent to $f$ as some point
$(x,y)$, two conditions need to be true:

1. $\nabla T(x',y')=\nabla f(x',y')$, since $f$ and $T$ need to have the same slope (rate-of-change) along each dimension, so $f_x=T_x$ and $f_y=T_y$,
   meaning that $\nabla T=\nabla f$.
2. $T(x', y')=f(x',y')$, since $f$ and $T$ need to go through the same point $(x,y,z)$

Let’s look at an example of this. Imagine we want to find the tangent plane at the point $(1,2)$ for the surface described by $f(x,y)=x^2+y^2$ (which
looks like the top of a white wine glass). To find $T$, we need to find values for the parameters $a,b$ and $c$. Let’s start by writing out the first
condition.

1. **Equality of Gradient** ($\nabla T(1,2)=\nabla f(1,2)$)

   Here, we need to find the gradient vectors for both $T$ and $f$, which holds the two first-order partial derivatives. For $T$, the gradient vector
   is

   $$
   \nabla f(x,y)=(2x, 2y)
   $$

   And for $f$ the gradient vector is

   $$
   \nabla T(x,y)=(a,b)
   $$

   With the given condition that the gradient vector needs to be equal to each other in the point $(1,2)$, we get the following vector equation (which
   describes that both partial derivatives need to be equivalent).

   Therefore, we have found that $a=2$ and $b=4$ and we know that the tangent plane is of the equation $T(x,y)=2x+4y+c$. To find the final missing
   parameter $c$, we can use the fact that we know that the tangent plane has to go through the point $(1,2,f(1,2))$.

   $$
   \begin{align*}\nabla T(1,2)&=\nabla f(1,2)\\(a,b)&=(2,4)\end{align*}
   $$

2. **Equality of Output** ($T(x', y')=f(x',y')$)

   Since, we know that $f(1,2)=5=T(1,2)$ for $T$ to be a tangent plane to $f$ at point $(1,2)$, we can plug this point and solve for the last missing
   parameter $c$.

   $$
   \begin{align*}T(1,2)=2\cdot 1+4\cdot2+c&=5\\10+c&=5\\c &=-5\end{align*}
   $$

   And we have therefore found the entire tangent plane as

   $$
   T(x,y)=2x+4y-5
   $$
